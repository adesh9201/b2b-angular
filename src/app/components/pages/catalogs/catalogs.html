<!-- Top Filter Bar (Horizontal Layout + Sort + Title) -->
<section class="py-4 bg-light featured-products-section mt-5">
  <div class="container-fluid">
    <div class="row">

      <!-- Filters Sidebar -->
      <aside class="col-lg-3 col-md-4 mb-4 d-none d-md-block">
        <app-filter (filtersApplied)="onFiltersApplied($event)"></app-filter>
      </aside>

      <!-- Products Grid -->
      <div class="col-lg-9 col-md-8">

        <div class="d-flex flex-wrap justify-content-between align-items-center mb-3 gap-2">
          <div class="fw-bold fs-5" id="catalogCount" style="color:#0a2342;">All Fabrics</div>
          <div class="d-flex align-items-center gap-2">
            <label for="sortBy" class="form-label mb-0 fw-semibold">Sort by:</label>
            <select class="form-select" id="sortBy" style="min-width:160px;">
              <option value="newest">Newest</option>
              <option value="priceLowHigh">Price: Low to High</option>
              <option value="priceHighLow">Price: High to Low</option>
              <option value="popularity">Popularity</option>
              <option value="rating">Rating</option>
            </select>
          </div>
        </div>

        <div class="row g-3">
          <div class="col-lg-3 col-md-3 col-sm-6 col-6" *ngFor="let product of featuredProducts">
            <!-- Make the entire card clickable -->
            <a [routerLink]="['/products', product.id]" class="text-decoration-none">
              <div class="card border-0 shadow-sm h-100 product-card">
                <div class="position-relative overflow-hidden rounded-top product-image-wrapper">
                  <img [src]="product.imageUrl" [alt]="product.name" class="img-fluid w-100 product-image"
                    style="height: 150px; object-fit: cover;">
                </div>
                <div class="card-body text-center px-2 py-3">
                  <h6 class="fw-semibold text-dark mb-1 product-title">{{ product.name }}</h6>
                  <div>
                    <span class="fw-bold text-success me-1 small">{{ product.price | currency:'USD' }}</span>
                    <small class="text-muted text-decoration-line-through small">{{ product.originalPrice | currency:'USD' }}</small>
                  </div>
                </div>
              </div>
            </a>
          </div>
        </div>

      </div>

    </div>
  </div>
</section>


 
<div *ngIf="showToast" class="toast-notif show">
  <span class="icon">
    <i class="fas fa-check-circle"></i>
  </span>
  <span class="message">{{ toastMessage }}</span>
  <span class="close-btn" (click)="showToast = false">&times;</span>
</div>


<!-- src/app/home/catalogs.html -->
<section class="py-5 bg-light featured-products-section">
  <div class="container-fluid">
<!-- Title Section -->
<div class="text-center mb-5">
      <h2 class="fw-bold display-5 text-primary">Featured Fabrics</h2>
      <p class="lead text-muted">Explore our premium selection of high-quality fabrics.</p>
    </div>


<!-- Products Grid -->
<div class="row g-4">
      <div class="col-lg-3 col-md-3 col-sm-6 col-6" *ngFor="let product of featuredProducts">
        <div class="card border-0 shadow-sm h-100 product-card transition hover-shadow">
          <div class="position-relative overflow-hidden rounded-top product-image-wrapper">
            <img [src]="product.imageUrl" [alt]="product.name" class="img-fluid w-100 product-image"
              style="height: 250px; object-fit: cover;">
          </div>
          <div class="card-body d-flex flex-column px-3 py-4">
            <h5 class="fw-semibold mb-2 text-dark">{{ product.name }}</h5>
            <p class="text-muted small mb-3">{{ product.description }}</p>

            <div class="mb-2">
              <span class="fw-bold text-success me-2">{{ product.price | currency:'USD' }}</span>
              <small class="text-muted text-decoration-line-through">{{ product.originalPrice | currency:'USD'
                }}</small>
              <span class="text-muted ms-1 small">/ {{ product.unit }}</span>
            </div>

            <div class="text-muted small mb-1">Material: <span class="fw-medium text-dark">{{ product.material }}</span>
            </div>
            <div class="text-muted small mb-1">Weight: <span class="fw-medium text-dark">{{ product.weight }}</span> |
              Width: <span class="fw-medium text-dark">{{ product.width }}</span></div>
            <div class="text-muted small mb-2">Rating: <span class="fw-medium text-dark">{{ product.rating }}</span> ({{
              product.reviews }} reviews)</div>

            <div class="mb-3">
              <span class="badge bg-secondary me-1 mb-1" *ngFor="let color of product.colors">{{ color }}</span>
            </div>

            <div class="mt-auto">
              <div class="d-grid gap-2">
                <button class="btn btn-outline-secondary rounded-pill py-2 shadow-sm" (click)="addToCart(product)">Add to Cart</button>
<button class="btn btn-primary rounded-pill py-2 shadow-sm" 
        [routerLink]="['/products', product.id]">
  Buy Now
</button>


              </div>
            </div>

          </div>
        </div>
      </div>
    </div>


<!-- Load More Button -->
<div class="text-center mt-5">
      <a routerLink="/catalog" class="btn btn-outline-primary btn-lg px-5 rounded-pill shadow-sm">Load More Fabrics</a>
    </div>
</div>
</section>

<style>
  .product-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .product-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
  }

  .product-image-wrapper {
    overflow: hidden;
  }

  .product-image {
    transition: transform 0.4s ease;
  }

  .product-image-wrapper:hover .product-image {
    transform: scale(1.05);
  }

  @media (max-width: 576px) {
    .product-image {
      height: 200px !important;
    }
  }
</style>

<!-- <section class="py-5 bg-light featured-products-section"> -->
<!-- <div class="container-fluid"> -->
<!-- Title Section -->
<!-- <div class="text-center mb-5">
      <h2 class="fw-bold display-5 text-primary">Featured Fabrics</h2>
      <p class="lead text-muted">Explore our premium selection of high-quality fabrics.</p>
    </div> -->

<!-- Products Grid -->
<!-- <div class="row g-4">
      <div class="col-lg-3 col-md-4 col-sm-6 col-6" *ngFor="let product of featuredProducts">
        <div class="card border-0 shadow-sm h-100 product-card transition hover-shadow">
          <div class="position-relative overflow-hidden rounded-top product-image-wrapper">
            <img [src]="product.imageUrl" [alt]="product.name" class="img-fluid w-100 product-image"
              style="height: 250px; object-fit: cover;">
          </div>
          <div class="card-body text-center px-3 py-4">
            <h5 class="fw-semibold text-dark mb-2">{{ product.name }}</h5>
            <div class="mb-0">
              <span class="fw-bold text-success me-1">{{ product.price | currency:'USD' }}</span>
              <small class="text-muted text-decoration-line-through">{{ product.originalPrice | currency:'USD'
                }}</small>
            </div>
          </div>
        </div>
      </div>
    </div> -->

<!-- Load More Button -->
<!-- <div class="text-center mt-5">
      <a routerLink="/catalog" class="btn btn-outline-primary btn-lg px-5 rounded-pill shadow-sm">Load More Fabrics</a>
    </div> -->
<!-- </div> -->
<!-- </section> -->

<!-- <style>
  .product-card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .product-card:hover {
    transform: translateY(-6px);
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
  }

  .product-image-wrapper {
    overflow: hidden;
  }

  .product-image {
    transition: transform 0.4s ease;
  }

  .product-image-wrapper:hover .product-image {
    transform: scale(1.05);
  }

  @media (max-width: 576px) {
    .product-image {
      height: 200px !important;
    }
  }
</style> -->


<!-- <section class="py-4 bg-light featured-products-section"> -->
<!-- <div class="container-fluid"> -->
<!-- Title Section -->
<!-- <div class="text-center mb-4">
      <h4 class="fw-bold text-primary">Featured Fabrics</h4>
      <p class="text-muted small">Explore our premium selection of high-quality fabrics.</p>
    </div> -->

<!-- Products Grid -->
<!-- <div class="row g-3">
      <div class="col-lg-2 col-md-4 col-sm-6 col-6" *ngFor="let product of featuredProducts">
        <div class="card border-0 shadow-sm h-100 product-card">
          <div class="position-relative overflow-hidden rounded-top product-image-wrapper">
            <img [src]="product.imageUrl" [alt]="product.name" class="img-fluid w-100 product-image"
              style="height: 150px; object-fit: cover;">
          </div>
          <div class="card-body text-center px-2 py-3">
            <h6 class="fw-semibold text-dark mb-1 product-title">{{ product.name }}</h6>
            <div>
              <span class="fw-bold text-success me-1 small">{{ product.price | currency:'USD' }}</span>
              <small class="text-muted text-decoration-line-through small">{{ product.originalPrice | currency:'USD'
                }}</small>
            </div>
          </div>
        </div>
      </div>
    </div> -->

<!-- Load More Button -->
<!-- <div class="text-center mt-4">
      <a routerLink="/catalog" class="btn btn-outline-primary btn-sm px-4 rounded-pill shadow-sm">Load More Fabrics</a>
    </div> -->
<!-- </div> -->

<!-- </section> -->

<!-- <style>
  .product-card {
    border-radius: 8px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .product-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 0.4rem 1rem rgba(0, 0, 0, 0.1);
  }

  .product-image-wrapper {
    overflow: hidden;
    border-radius: 8px 8px 0 0;
  }

  .product-image {
    transition: transform 0.4s ease;
  }

  .product-image-wrapper:hover .product-image {
    transform: scale(1.05);
  }

  .product-title {
    font-size: 0.9rem;
  }

  .small {
    font-size: 0.75rem;
  }

  @media (max-width: 576px) {
    .product-image {
      height: 120px !important;
    }

    .product-title {
      font-size: 0.8rem;
    }
  }
</style> -->