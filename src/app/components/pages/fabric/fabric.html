<div class="container-fluid py-4">
  <div class="row mb-4 text-center">
    <div class="col-12">
      <h1 class="display-6 text-dark fw-bold">Premium Fabric Collection</h1>
      <p class="text-muted mb-4">Discover our finest quality fabrics for all your needs</p>
    </div>
  </div>

  <!-- Loading -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary"></div>
    <p class="mt-3 text-muted">Loading fabrics...</p>
  </div>

  <!-- Error -->
  <div *ngIf="error" class="alert alert-danger text-center">
    <i class="fas fa-exclamation-triangle me-2"></i>{{ error }}
  </div>

  <!-- Fabric Grid -->
  <div *ngIf="!loading && !error" class="row g-4">
    <div class="col-6 col-md-4 col-lg-3 col-xl-2" *ngFor="let fabric of filteredFabrics; trackBy: trackByRefNo">
      <div class="product-card h-100">
        <!-- Image -->
        <div class="product-image-container">
          <img [src]="getPlaceholderImage(fabric)" [alt]="fabric.fabName" class="product-image" loading="lazy" />
        </div>

        <!-- Info -->
        <div class="product-info p-2">
          <div class="product-brand">{{ fabric.fabType || 'Premium Fabric' }}</div>
          <h6 class="product-name" [title]="fabric.fabName">{{ fabric.fabName || 'Designer Fabric' }}</h6>
          <small class="text-muted d-block" *ngIf="fabric.quality">Quality: {{ fabric.quality }}</small>
          <small class="text-muted d-block" *ngIf="fabric.gsm">GSM: {{ fabric.gsm }}</small>

          <!-- Price -->
          <div class="price-section mt-2">
            <span class="current-price">{{ formatPrice(fabric.sellPrice) }}</span>
            <span *ngIf="fabric.costPrice && fabric.costPrice > (fabric.sellPrice || 0)" class="original-price ms-2 text-decoration-line-through">
              {{ formatPrice(fabric.costPrice) }}
            </span>
          </div>

          <!-- Add to cart -->
          <button class="btn btn-primary btn-sm mt-2 w-100" (click)="addToCart(fabric)">
            <i class="fas fa-shopping-cart me-1"></i> Add to Cart
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Empty -->
  <div *ngIf="!loading && !error && filteredFabrics.length === 0" class="text-center py-5">
    <i class="fas fa-box-open fa-3x text-muted mb-3"></i>
    <h4 class="text-muted">No fabrics available</h4>
    <p class="text-muted">Check back later for new arrivals</p>
  </div>
</div>
