<!-- Page Header -->
<section class="py-5 mt-3">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6">
        <h1 class="fw-bold mb-2 header-title">Trusted Suppliers</h1>
        <p class="mb-0 text-muted-custom">Connect with verified fabric suppliers worldwide</p>
      </div>
      <div class="col-md-6 text-md-end">
        <div class="d-flex justify-content-md-end gap-2">
          <!-- State Filter -->
          <select class="form-select w-auto" title="Filter by state" [(ngModel)]="selectedState" (change)="onFilterChange()">
            <option value="">All States</option>
            <option *ngFor="let state of states" [value]="state">{{ state }}</option>
          </select>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Suppliers Grid -->
<section class="py-5">
  <div class="container">
    <div class="row g-4">
      <div class="col-md-4" *ngFor="let supplier of filteredSuppliers">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title header-title">{{ supplier.name }}</h5>
            <p class="card-text text-muted-custom">
              {{ supplier.address }}, {{ supplier.city }}, {{ supplier.state }} - {{ supplier.pincode }}<br>
              GSTIN: {{ supplier.gstin }} | PAN: {{ supplier.pan }}<br>
              Email: {{ supplier.emailId }} | Phone: {{ supplier.phone }}<br>
              Contact: {{ supplier.contact_Person }}
            </p>

          </div>
        </div>
      </div>
    </div>
  </div>
</section>



<!-- Become a Supplier Section -->
<section class="py-5">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-lg-6">
        <h2 class="fw-bold mb-4 header-title">Become a Supplier</h2>
        <p class="lead mb-4 text-muted-custom">
          Join our network of trusted fabric suppliers and reach customers worldwide.
        </p>

        <div class="row g-3 mb-4">
          <div class="col-md-6" *ngFor="let feature of features">
            <div class="d-flex align-items-center">
              <div [ngClass]="feature.bgClass + ' p-2 rounded me-3'">
                <i [class]="feature.icon + ' ' + feature.iconColorClass"></i>
              </div>
              <div>
                <h6 class="mb-1 feature-title">{{ feature.title }}</h6>
                <small class="text-muted-custom">{{ feature.subtitle }}</small>
              </div>
            </div>
          </div>
        </div>

        <!-- <button class="btn btn-primary btn-lg ripple" [routerLink]="['/test']">
          <i class="fas fa-plus me-2"></i> Apply Now
        </button> -->
              <button class="btn btn-primary btn-lg ripple"
  data-bs-toggle="modal"
  data-bs-target="#addSupplierModal">
  Apply Now
</button>
      </div>

      <div class="col-lg-6">
        <img
          src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"
          alt="Become a Supplier" class="img-fluid rounded shadow" />
      </div>
    </div>
  </div>
</section>




<!-- Add Supplier Modal -->
<div class="modal fade" id="addSupplierModal" tabindex="-1" aria-labelledby="addSupplierModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-scrollable">
    <div class="modal-content dark-mode-bg">
      <div class="modal-header">
        <h5 class="modal-title" id="addSupplierModalLabel">Register New Supplier</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">
        <form [formGroup]="registerForm" (ngSubmit)="register()">

          <div class="row">
            <div class="col-md-6">
              <div class="mb-3">
                <label for="name" class="form-label">Supplier Name</label>
                <input type="text" class="form-control" id="name" formControlName="name" required>
                <div class="text-danger" *ngIf="registerForm.get('name')?.touched && registerForm.get('name')?.invalid">
                  Name is required
                </div>
              </div>

              <div class="mb-3">
                <label for="address" class="form-label">Address</label>
                <textarea class="form-control" id="address" rows="2" formControlName="address"></textarea>
              </div>

              <div class="mb-3">
                <label for="pincode" class="form-label">Pincode</label>
                <input type="text" class="form-control" id="pincode" formControlName="pincode">
              </div>

              <div class="mb-3">
                <label for="state" class="form-label">State</label>
                <input type="text" class="form-control" id="state" formControlName="state">
              </div>

              <div class="mb-3">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" id="city" formControlName="city">
              </div>
            </div>

            <div class="col-md-6">
              <div class="mb-3">
                <label for="gstin" class="form-label">GSTIN</label>
                <input type="text" class="form-control" id="gstin" formControlName="gstin">
              </div>

              <div class="mb-3">
                <label for="pan" class="form-label">PAN</label>
                <input type="text" class="form-control" id="pan" formControlName="pan">
              </div>

              <div class="mb-3">
                <label for="emailId" class="form-label">Email</label>
                <input type="email" class="form-control" id="emailId" formControlName="emailId" required>
                <div class="text-danger" *ngIf="registerForm.get('emailId')?.touched && registerForm.get('emailId')?.invalid">
                  Valid email is required
                </div>
              </div>

              <div class="mb-3">
                <label for="phone" class="form-label">Phone</label>
                <input type="text" class="form-control" id="phone" formControlName="phone">
              </div>

              <div class="mb-3">
                <label for="contact_Person" class="form-label">Contact Person</label>
                <input type="text" class="form-control" id="contact_Person" formControlName="contact_Person">
              </div>
            </div>
          </div>
        </form>
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary ripple" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary ripple" [disabled]="registerForm.invalid" (click)="register()">
          Register Supplier
        </button>
      </div>
    </div>
  </div>
</div>
