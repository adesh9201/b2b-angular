<section class="hero-section position-relative overflow-hidden">
  <!-- Loading Spinner -->
  <div *ngIf="isLoading" class="loading-overlay d-flex justify-content-center align-items-center">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Background -->
  <div class="hero-background"
       [style.background-image]="heroContent?.backgroundImage ? 'url(' + heroContent?.backgroundImage + ')' : 'none'">
    <div class="hero-overlay"></div>
  </div>

  <div class="container-fluid px-4 px-lg-5">
    <div class="row min-vh-100 align-items-center">
      <!-- Main Hero Content -->
      <div class="col-lg-6 col-xl-5 text-white mb-5 mb-lg-0">
        <div class="hero-content" *ngIf="heroContent">
          <!-- Subtitle -->
          <div class="hero-badge mb-3">
            <span class="badge bg-primary fs-6 px-3 py-2 rounded-pill">
              <i class="fas fa-star me-2"></i>{{ heroContent.subtitle }}
            </span>
          </div>

          <!-- Main Title -->
          <h1 class="display-3 fw-bold mb-4 hero-title">
            {{ heroContent.title }}
          </h1>

          <!-- Description -->
          <p class="lead mb-4 hero-description">
            {{ heroContent.description }}
          </p>

          <!-- Features List -->
          <div class="row mb-4" *ngIf="heroContent.features">
            <div class="col-sm-6" *ngFor="let feature of heroContent.features">
              <div class="d-flex align-items-center mb-2">
                <i class="fas fa-check-circle text-success me-2"></i>
                <span class="small">{{ feature }}</span>
              </div>
            </div>
          </div>

          <!-- CTA Buttons -->
          <div class="hero-cta-buttons mb-4">
            <ng-container *ngFor="let button of heroContent.ctaButtons; let i = index">
              <button
                type="button"
                [class]="'btn btn-' + (button.type === 'primary' ? 'primary' : 'outline-light') + ' btn-lg me-3 mb-2 px-4'"
                (click)="onCtaClick(button)">
                <i [class]="button.icon + ' me-2'" *ngIf="button.icon"></i>
                {{ button.text }}
              </button>
            </ng-container>
          </div>

          <!-- Statistics -->
          <div class="hero-stats" *ngIf="heroContent.statistics">
            <div class="row g-3">
              <div class="col-6 col-md-3" *ngFor="let stat of heroContent.statistics">
                <div class="stat-item text-center">
                  <i [class]="stat.icon + ' text-primary fs-4 mb-2'"></i>
                  <div class="stat-value fw-bold fs-5">{{ stat.value }}</div>
                  <div class="stat-label small opacity-75">{{ stat.label }}</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Search & Categories -->
      <div class="col-lg-6 col-xl-7">
        <div class="hero-search-section">
          <!-- Search Box -->
          <div class="search-container mb-4">
            <div class="card shadow-lg border-0 rounded-3">
              <div class="card-body p-4">
                <h3 class="card-title text-center mb-4 text-dark">Find Your Perfect Fabric</h3>

                <div class="position-relative">
                  <div class="input-group input-group-lg">
                    <input
                      type="text"
                      class="form-control rounded-start-3"
                      placeholder="Search fabrics, materials, suppliers..."
                      [formControl]="searchControl"
                      (focus)="onFocusSearch()"
                      (blur)="hideSuggestions()">
                    <button
                      class="btn btn-primary rounded-end-3 px-4"
                      title="Search"
                      type="button"
                      (click)="onSearch()">
                      <i class="fas fa-search"></i>
                    </button>
                  </div>

                  <!-- Search Suggestions -->
                  <div class="search-suggestions position-absolute w-100 mt-1"
                       *ngIf="showSuggestions && searchSuggestions.length > 0">
                    <div class="card shadow border-0 rounded-3">
                      <div class="list-group list-group-flush rounded-3">
                        <button
                          type="button"
                          class="list-group-item list-group-item-action border-0"
                          *ngFor="let suggestion of searchSuggestions"
                          (click)="onSuggestionClick(suggestion)">
                          <div class="d-flex justify-content-between align-items-center">
                            <span>
                              <i class="fas fa-search text-muted me-2 small"></i>
                              {{ suggestion.term }}
                            </span>
                            <small class="text-muted">{{ suggestion.category }}</small>
                          </div>
                        </button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Popular Categories -->
          <div class="categories-section" *ngIf="fabricCategories.length > 0">
            <h4 class="text-center mb-4 text-white">Popular Categories</h4>
            <div class="row g-3">
              <div class="col-6 col-md-4" *ngFor="let category of fabricCategories">
                <div class="category-card card h-100 shadow-sm border-0 rounded-3 cursor-pointer"
                     (click)="onCategoryClick(category)">
                  <div class="card-body text-center p-3">
                    <div class="category-icon mb-2">
                      <i [class]="'fab-icon ' + category.icon + ' fs-2 text-primary'"></i>
                    </div>
                    <h6 class="card-title mb-1">{{ category.name }}</h6>
                    <small class="text-muted">{{ category.count | number }}+ items</small>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Decorative Elements -->
  <div class="hero-decorations">
    <div class="decoration-circle circle-1"></div>
    <div class="decoration-circle circle-2"></div>
    <div class="decoration-pattern pattern-1"></div>
  </div>
</section>
