.table {
  --table-bg: transparent;
  --table-accent-bg: transparent;
  --table-striped-color: var(--surface-text);
  --table-striped-bg: rgba(0, 0, 0, 0.02);
  --table-active-color: var(--surface-text);
  --table-active-bg: rgba(0, 0, 0, 0.1);
  --table-hover-color: var(--surface-text);
  --table-hover-bg: rgba(0, 0, 0, 0.075);

  width: 100%;
  margin-bottom: 1rem;
  color: var(--surface-text);
  vertical-align: top;
  border-color: var(--surface-border);

  // Table head
  > thead {
    vertical-align: bottom;

    th {
      background-color: var(--table-header-bg);
      font-weight: 600;
      color: var(--color-text);
    }
  }

  // Table body
  > tbody {
    vertical-align: inherit;
  }

  // Table foot
  > tfoot {
    vertical-align: bottom;
  }

  // Table cells
  > :not(caption) > * > * {
    padding: 0.75rem 1rem;
    background-color: var(--table-bg);
    border-bottom-width: 1px;
    box-shadow: inset 0 0 0 9999px var(--table-accent-bg);
  }

  // Striped rows
  > tbody > tr:nth-of-type(odd) > * {
    --table-accent-bg: var(--table-striped-bg);
    color: var(--table-striped-color);
  }

  // Hover rows
  > tbody > tr:hover > * {
    --table-accent-bg: var(--table-hover-bg);
    color: var(--table-hover-color);
  }

  // Active row
  > tbody > tr.table-active > * {
    --table-accent-bg: var(--table-active-bg);
    color: var(--table-active-color);
  }

  // Table variants
  &-primary {
    --table-bg: #{tint-color($teal-500, 90%)};
    --table-striped-bg: #{tint-color($teal-500, 85%)};
    --table-striped-color: #{shade-color($teal-500, 30%)};
    --table-active-bg: #{tint-color($teal-500, 80%)};
    --table-active-color: #{shade-color($teal-500, 30%)};
    --table-hover-bg: #{tint-color($teal-500, 82.5%)};
    --table-hover-color: #{shade-color($teal-500, 30%)};

    color: #{shade-color($teal-500, 30%)};
    border-color: #{tint-color($teal-500, 70%)};
  }

  // Bordered table
  &-bordered {
    border-width: 1px;
    border-style: solid;
    border-color: var(--surface-border);

    > :not(caption) > * {
      border-width: 1px 0;

      > * {
        border-width: 0 1px;
      }
    }
  }

  // Borderless table
  &-borderless {
    > :not(caption) > * > * {
      border-bottom-width: 0;
    }
  }

  // Small table
  &-sm {
    > :not(caption) > * > * {
      padding: 0.3rem 0.6rem;
    }
  }

  // Hover effect
  &-hover {
    > tbody > tr:hover {
      > * {
        --table-accent-bg: var(--table-hover-bg);
        color: var(--table-hover-color);
      }
    }
  }

  // Responsive table
  &-responsive {
    @each $breakpoint in map-keys($grid-breakpoints) {
      $next: breakpoint-next($breakpoint, $grid-breakpoints);
      $infix: breakpoint-infix($next, $grid-breakpoints);

      &#{$infix} {
        @include media-breakpoint-down($breakpoint) {
          display: block;
          width: 100%;
          overflow-x: auto;
          -webkit-overflow-scrolling: touch;

          > .table-bordered {
            border: 0;
          }
        }
      }
    }
  }
}

// Caption
.caption-top {
  caption-side: top;
}

// Table colors
@each $color, $value in $theme-colors {
  .table-#{$color} {
    @include table-variant($value);
  }
}
